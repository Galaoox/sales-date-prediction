<h1 mat-dialog-title>Customer AHPOP - New Order</h1>
<div mat-dialog-content class="form-container">
    <form [formGroup]="orderForm">
        <!-- Order Section -->
        <h2 class="section-title">Order</h2>

        <div class="form-row">
            <mat-form-field class="medium-field">
                <mat-label>Employee</mat-label>
                <mat-select formControlName="employeeId">
                    <mat-option *ngFor="let emp of employees" [value]="emp.empid">
                        {{ emp.fullname }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field class="medium-field">
                <mat-label>Shipper</mat-label>
                <mat-select formControlName="shipperId">
                    <mat-option *ngFor="let shp of shippers" [value]="shp.shipperid">
                        {{ shp.companyName }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <mat-form-field class="full-width">
            <mat-label>Ship Name</mat-label>
            <input matInput formControlName="shipName">
        </mat-form-field>

        <!-- Address, City y Country en la misma fila -->
        <div class="grid-row-form">
            <mat-form-field class="">
                <mat-label>Ship Address</mat-label>
                <input matInput formControlName="shipAddress">
            </mat-form-field>

            <mat-form-field class="">
                <mat-label>Ship City</mat-label>
                <input matInput formControlName="shipCity">
            </mat-form-field>

            <mat-form-field class="">
                <mat-label>Ship Country</mat-label>
                <input matInput formControlName="shipCountry">
            </mat-form-field>
        </div>

        <!-- Fechas en la misma fila -->
        <div class="grid-row-form">
            <!-- Order Date -->
            <mat-form-field class="date-field">
                <mat-icon matPrefix>event</mat-icon>
                <mat-label>Order Date</mat-label>
                <input matInput [matDatepicker]="orderPicker" formControlName="orderDate">
                <mat-datepicker-toggle matSuffix [for]="orderPicker"></mat-datepicker-toggle>
                <mat-datepicker #orderPicker></mat-datepicker>
            </mat-form-field>

            <!-- Required Date -->
            <mat-form-field class="date-field">
                <mat-icon matPrefix>event</mat-icon>
                <mat-label>Required Date</mat-label>
                <input matInput [matDatepicker]="requiredPicker" formControlName="requiredDate">
                <mat-datepicker-toggle matSuffix [for]="requiredPicker"></mat-datepicker-toggle>
                <mat-datepicker #requiredPicker></mat-datepicker>
            </mat-form-field>

            <!-- Shipped Date -->
            <mat-form-field class="date-field">
                <mat-icon matPrefix>event</mat-icon>
                <mat-label>Shipped Date</mat-label>
                <input matInput [matDatepicker]="shippedPicker" formControlName="shippedDate">
                <mat-datepicker-toggle matSuffix [for]="shippedPicker"></mat-datepicker-toggle>
                <mat-datepicker #shippedPicker></mat-datepicker>
            </mat-form-field>
        </div>

        <mat-form-field class="full-width">
            <mat-icon matPrefix>attach_money</mat-icon>
            <mat-label>Freight</mat-label>
            <input matInput type="number" formControlName="freight" min="0">
        </mat-form-field>

        <mat-divider class="divider"></mat-divider>

        <!-- Order Details Section -->
        <h2 class="section-title">Order Details</h2>

        <mat-form-field class="full-width">
            <mat-label>Product</mat-label>
            <mat-select formControlName="productId">
                <mat-option *ngFor="let prod of products" [value]="prod.productid">
                    {{ prod.productname }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <div class="form-row">
            <mat-form-field class="medium-field">
                <mat-icon matPrefix>attach_money</mat-icon>
                <mat-label>Unit Price</mat-label>
                <input matInput type="number" formControlName="unitPrice" min="0" step="0.01">
            </mat-form-field>

            <mat-form-field class="small-field">
                <mat-label>Quantity</mat-label>
                <input matInput type="number" formControlName="quantity" min="1">
            </mat-form-field>

            <mat-form-field class="small-field">
                <mat-label>Discount</mat-label>
                <input matInput type="number" formControlName="discount" min="0" max="1" step="0.001">
            </mat-form-field>
        </div>
    </form>
</div>

<div mat-dialog-actions class="button-group">
    <button mat-button class="font-color-green-hulk" (click)="onCancel()">Close</button>
    <button mat-button class="font-color-green-hulk" (click)="onSubmit()" [disabled]="!orderForm.valid">
        Save
    </button>
</div>